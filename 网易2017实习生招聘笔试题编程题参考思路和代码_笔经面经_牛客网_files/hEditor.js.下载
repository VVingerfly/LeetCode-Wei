define("nowcoder/1.2.751/javascripts/component/editorSub/hEditor",["ncPlugin/kindeditor/kindeditor","nc","cpn","../../util/uploadRemote","../../core/siteConfig","../select","../../util/util"],function(a,b,c){function d(a,b){if(a=U(a),0!==a.length){var c=(a.prop("tagName")||"").toLowerCase(),d="input"===c||"textarea"===c;return new eb(Z.extend({renderTo:a,renderBy:"replaceWith",content:d?a.val():"",height:Math.max(a.outerHeight(),200)},b))}}function e(){var a=this;a._addKEPlugin(),a._createdQueue=[]}function f(){var a=this,b=a.rawConfig,c=a.getEl();a.lockInit("_initEvent")||(a.listen("afterCreate",function(){a.lockInit("_afterCreate")||(b.content&&a.val(b.content),Z.forEach(a._createdQueue,function(b){b&&b.call(a)}),a._createdQueue.length=0,c.on("click","div.js-editor-mask",function(){try{b.clickMask&&b.clickMask.call(a)}catch(c){}}),b.afterCreate&&b.afterCreate.call(a))}),a.listen("afterChange",function(){var c=a.keEditor,d=c.edit.cmd.range,e=a.isInTagNode(d.startContainer,"blockquote")||a.isInTagNode(d.endContainer,"blockquote");e?c.toolbar.select("bockquote"):c.toolbar.unselect("bockquote");var f=a.isInTagNode(d.startContainer,"pre")||a.isInTagNode(d.endContainer,"pre");c.edit.designMode&&(f?(c.toolbar.disableAll(!0,["source","codeblock"]),c.toolbar.select("codeblock")):(c.toolbar.disableAll(!1),c.toolbar.unselect("codeblock"))),a.logContentChange(),b.afterChange&&b.afterChange.call(a)}),a.listen("afterBlur",function(){b.afterBlur&&b.afterBlur.call(a)}),a.listen("afterFocus",function(){b.afterFocus&&b.afterFocus.call(a)}))}function g(){var a=this,b=a.getEl(),c=U("<div></div>");b.append(c);var d=a.keEditor=R.create(c.get(0),a.getEditorConf()),e=d.html;d.html=function(a){return a?(a=a.replace(/\u00A0/g,"&nbsp;"),e.call(this,a)):e.apply(this,arguments)}}function h(){var a=this,b=a.rawConfig;b.fullScreen&&a.waitCreated(function(){var c=U('<a href="javaScript:void(0);" class="full-ico"></a>');a.getToolbarEl().append(c),c.on("click",b.fullScreen)})}function i(){var a=this;if(!a.lockInit("_initPlaceHolder")){var b=a.rawConfig;a.waitCreated(function(){var c,d=U(a.getEditorDoc()),e=d.get(0).body;d.on("mousedown",c=function(){a._placeholderStatus&&(a.removePlaceHolder(),a._placeholderStatus=!0),d.unbind("mousedown",c)}),b.placeholder&&a.isEmpty()&&(e.innerHTML='<div id="kePlaceholder" style="color:#ddd;">'+b.placeholder+"</div>",a._placeholderStatus=!0),a.listen("afterBlur",function(){b.placeholder&&""===a.val()&&(e.innerHTML='<div id="kePlaceholder" style="color:#ddd;">'+b.placeholder+"</div>",a._placeholderStatus=!0)}),a.listen("afterFocus",function(){a.removePlaceHolder(),a._placeholderTimer||(a._placeholderTimer=window.setTimeout(function(){a.removePlaceHolder(),a._placeholderTimer=null},0))})})}}function j(){var a=this,b=a.getEl(),c=U(['<div class="js-editor-img-bar editor-img-bar" style="display:none;width:60px;">','<a href="javascript:void(0);" title="放大" class="icon-zoom-in"></a>','<a href="javascript:void(0);" title="缩小" class="icon-zoom-out"></a>',"</div>"].join(""));U(document.body).append(c);var d;a.waitCreated(function(){var e=a.getEditorDoc();U(e).on("click",function(a){window.clearTimeout(d),c.unbind("click").hide();var e=a.target;"img"===(e.tagName||"").toLowerCase()&&(d=window.setTimeout(function(){var a=e.width,d=e.height;if(a&&d){var f=$.getPosTop(e),g=$.getPosLeft(e),h=$.getPosTop(b),i=$.getPosLeft(b);c.css("top",h+f+40).css("left",i+g+1).show();var j=null;c.on("click","a.icon-zoom-in",function(){var a=U(e).width();U(e).removeAttr("width height").height("auto"),j=j||U(e).width("auto").width();var b=(Math.round(10*a/j)+1)/10;U(e).width(b>5?a:j*b)}),c.on("click","a.icon-zoom-out",function(){var a=U(e).width();U(e).removeAttr("width height").height("auto"),j=j||U(e).width("auto").width();var b=(Math.round(10*a/j)-1)/10;U(e).width(.1>b?a:j*b)})}},25))}),U(document.body).on("click",function(a){var b=a.target;b===c.get(0)||U.contains(c.get(0),b)||(window.clearTimeout(d),c.unbind("click").hide())})})}function k(){var a=this;W.ie()||a.lockInit("_initAutoLink")||a.waitCreated(function(){var b=a.getEditorDoc(),c=a.keEditor;U(b).on("keydown",function(a){var b=a.keyCode;if(32===b||13===b){var d=c.cmd.range,e=c.cmd.sel;if(d.collapsed){var f=d.endContainer,g=d.endOffset;if(3===f.nodeType){var h=f.nodeValue||"",i=h.substring(0,g),j=/(((http|https|ftp):\/\/)|(www\.))[a-zA-Z0-9-\.]+\.[a-zA-Z]+[a-zA-Z0-9-\/\.:\?=&]*$/gi,k=i.match(j);if(k){var l=k.pop(),m=i.lastIndexOf(l);try{d.setStart(f,m),e.removeAllRanges(),e.addRange(d.get(!0));var n=l;n.indexOf("://")<0&&(n="http://"+n),c.insertHtml('<a href="'+n+'" target="_blank">'+l+"</a>"),d.select(f)}catch(o){}}}}}})})}function l(){var a=this;a.lockInit("_initToolbarTips")||a.waitCreated(function(){var b=a.getToolbarEl().find("span.ke-outline");bb.titleEl(b,{verReverse:!0},function(b){a.pushChild(b)})})}function m(){function a(a,c,h){b._scrollWindowTimer=window.setTimeout(function(){b._scrollWindowTimer=null;var a=c.outerHeight(),i=f.scrollTop(),j=c.offset();j.top<i+g&&j.top+a>i+g+e?(d||(d=h.width()||0),h.css("width",d),c.addClass("fixed-eidt-header"),h.css("top",g)):(c.removeClass("fixed-eidt-header"),h.css("top",null),h.css("width","auto"))},10)}var b=this,c=b.rawConfig;if(!c.noToolbarFixed&&!b.lockInit("_initToolbarFixed")){var d,e,f=U(window),g=+c.toolbarFixedTop||0;b.waitCreated(function(){var c=b.getEditorEl(),d=b.getToolbarEl();e=d.outerHeight(),b._scrollWindowTimer&&window.clearTimeout(b._scrollWindowTimer),b._toolbarScrollCb=function(){a(b.keEditor,c,d)},f.on("scroll",b._toolbarScrollCb),b._toolbarScrollCb()})}}function n(){var a=this,b=a.rawConfig;b.needChangeEditor&&a.waitCreated(function(){a.getToolbarEl().prepend('<a class="ico-to-html js-2-md">使用MD编辑器</a>')})}function o(){var a=this,b=a.rawConfig;b.noAutoHeight||a.lockInit("_initAutoHeight")||a.waitCreated(function(){var b=a.getEditorEl(),c=$.getScrollParent(b);c=U(c?c:window);var d=a.val();a.listen("afterChange",function(){var b=a.val();if(d!==b){d=b;try{a.autoHeight(c)}catch(e){}}}),d&&U(a.getEditorDoc()).one("click",function(){a.autoHeight(c)})})}function p(){function a(a){var c=b.getToolbarEl(),d=new cb({renderTo:c,renderBy:"prepend",size:"small",text:"代码语言",options:[{text:"ASP/VB",value:"vb"},{text:"C/C++",value:"cpp"},{text:"CSS",value:"css"},{text:"C#",value:"cs"},{text:"HTML",value:"html"},{text:"Java",value:"java"},{text:"JavaScript",value:"js"},{text:"Perl",value:"pl"},{text:"PHP",value:"php"},{text:"Python",value:"py"},{text:"Ruby",value:"rb"},{text:"Shell",value:"bsh"},{text:"XML",value:"xml"},{text:"其他",value:""}],change:function(){var c=this.val();b.removePlaceHolder(),a.select();var d=a.cmd.commonNode({pre:"*"});if(!d&&(a.exec("formatblock","<pre>"),d=a.cmd.commonNode({pre:"*"}))){try{a.cmd.range.selectNodeContents(d),a.cmd.removeformat()}catch(e){}d.addClass("prettyprint"),d.next()||d.after("<br />")}U(d).removeClass().addClass("prettyprint "+(c?"lang-"+c:"")),a.select(),b.fire("afterChange")}});return d}var b=this,c=b.rawConfig;c.noCodeSelect||b.lockInit("_initCodeSelect")||b.waitCreated(function(){var c=b.keEditor,d=a(c);b.listen("afterChange",function(){var a=this,b=c.edit.cmd.range,e=a.isInTagNode(b.startContainer,"pre")||a.isInTagNode(b.endContainer,"pre");if(e){var f=c.cmd.commonNode({pre:"*"});if(f){var g=f.attr("class")||"",h=/lang-(.*)/.exec(g),i=h?h[1]||"":"";d.val(i)}}else d.clear()})})}function q(){var a=this;a.lockInit("_initShowCodeName")||a.waitCreated(function(){var b,c=a.keEditor,d=a.getEditorDoc(),e=a.getEditorWin();U(d).on("click","pre",function(f){if(f.shiftKey){var g=U(f.target),h=g.attr("class")||"",i=/lang-(.*)/.exec(h),j=i?i[1]||"":"",k=R(a.getEditorEditEl().get(0)).pos(),l=R(g.get(0)).pos(),m=U(e).scrollTop()||U(d.body).scrollTop(),n=k.y+(l.y<m?0:l.y-m);b=c.menu=new R.MenuClass({name:"codename",width:150,centerLineMode:!1,x:k.x+l.x,y:n,z:50}),U(b.div).css({"max-height":"200px","overflow-y":"auto"});var o=[{name:"ASP/VB",val:"vb"},{name:"C/C++",val:"cpp"},{name:"CSS",val:"css"},{name:"C#",val:"cs"},{name:"HTML",val:"html"},{name:"Java",val:"java"},{name:"JavaScript",val:"js"},{name:"Perl",val:"pl"},{name:"PHP",val:"php"},{name:"Python",val:"py"},{name:"Ruby",val:"rb"},{name:"Shell",val:"bsh"},{name:"XML",val:"xml"},{name:"Other",val:""}];Z.forEach(o,function(a){b.addItem({title:'<span unselectable="on">'+a.name+"</span>",checked:j===a.val,click:function(){g.removeClass().addClass(a.val?"prettyprint lang-"+a.val:"prettyprint"),c.hideMenu()}})})}})})}function r(){function a(){return d||(d=T.PopupUploadTips.show({}),d.popup.listen("close",function(){d=null})),d}var b=this,c=b.rawConfig;if(!c.noPasteUpload){b.waitCreated(function(){var c=b.getEditor(),d=b.getEditorDoc();$.bindPaste(d,d.body,function(b){var d=Z.find(b,function(a){return"file"===a.kind&&/image/.test(a.type||"")}),e=d?d.getAsFile():null;if(e){var f=new S.Upload({url:"/uploadImage?type=1",progress:function(b){var c=a();c.showProgress("正在上传："+b+"%",b)},error:function(){var b=a();b.showError("上传失败")},call:function(b){var d=a();d.close(),c.exec("insertimage",b.url)}});f.uploadBlob(e,(new Date).getTime()+"."+e.type.split("/").pop())}})});var d}}function s(){function a(){if(!e){var a=c.getEditorDoc(),d=U(a.body).find("img"),f=d.length;if(0!==f){var g=Z.map(d,function(a){return U.trim(U(a).attr("src"))});if(_.canUpload(g)){var h=b();e=!0;var i=0;Z.forEach(d,function(a){a=U(a);var b=U.trim(a.attr("src"));_.upload(b,function(c){c&&c!==b&&(a.attr("src",c),a.attr("data-ke-src",c)),i++,i>=f&&(e=!1,h.close())})})}}}}function b(){return new db({hasNoTitle:!0,hasNoFooter:!0,noUnique:!0,content:'<div style="font-size:14px;text-align:center;">图片上传中...</div>'})}var c=this,d=c.rawConfig;if(!d.noUploadRemote){var e=!1;c.waitCreated(function(){c.listen("draftChange",a),a()})}}function t(){var a=this,b=a.rawConfig;b.toolAction&&a.waitCreated(function(){var c=a.getEditor();Z.forEach(b.toolAction,function(a,b){c._handlers[b]=[a]})})}function u(){var a=this;return a.keEditor.html.apply(a.keEditor,arguments)}function v(){var a=this;return a.keEditor.text.apply(a.keEditor,arguments)}function w(){var a=this;try{a.keEditor.blur()}catch(b){}}function x(){var a=this;try{a.keEditor.focus()}catch(b){}}function y(a){var b=this,c=b.getEl();b.waitCreated(function(){var b=c.find(".js-editor-mask");a===!1?b.hide():(0===b.length&&(b=U('<div class="js-editor-mask" style="background:#fff;opacity:0;filter:alpha(opacity=0);position:absolute;width:100%;height:100%;top:0;left:0;z-index:999;"></div>'),c.append(b)),b.show())})}function z(){var a=this;return a.keEditor.isEmpty()}function A(a,b){var c=this,d=c.rawConfig,e=c.getEl();c.waitCreated(function(){var f=c.keEditor;if(a){e.outerWidth(a);var g=e.width();c.getEditorEl().outerWidth(g),c.getToolbarEl().outerWidth(g-2)}if(b){var h=c.getToolbarEl(),i=h.outerHeight();b=Math.max(b-i-2,0),d.noAutoHeight||(f.edit._editHeight=b+"px"),d.noAutoHeight?f.edit.setHeight(b):c.autoHeight()}})}function B(a){var b=this,c=b.rawConfig,d=b.keEditor,e=b.getEditorDoc();if(!c.noAutoHeight){if(!a){var f=b.getEditorEl();a=$.getScrollParent(f),a=U(a?a:window)}var g=a.scrollTop();d.edit.setHeight(1);var h=e.body.scrollHeight;b.getEditorEditEl().css("overflow","hidden").height(1),h=Math.max(h,e.body.scrollHeight);var i=b._lastHeight?h-b._lastHeight:0;b._lastHeight=h;var j=parseInt(d.edit._editHeight||0,10)||0;h=Math.max(h,j),d.edit.setHeight(h),a.scrollTop(g+(h===j?0:i))}}function C(a){var b=this,c=b.keEditor;c&&c.isCreated?a&&a.call(b):b._createdQueue.push(a)}function D(){function b(a){var b=new a({renderTo:c.getEl(),renderBy:"after",isAdmin:e.isAdmin,content:a.html2md(f),needChangeEditor:!0,afterChangeEditor:e.afterChangeEditor,width:d.outerWidth(),height:e.height,draftChange:e.draftChange,disabled:e.disabled,clickMask:e.clickMask,noToolbarFixed:e.noToolbarFixed,toolbarFixedTop:e.toolbarFixedTop,noAutoHeight:e.noAutoHeight,render:function(){c.destroy()}});e.afterChangeEditor&&e.afterChangeEditor.call(c,b),c.fire("changeEditor",b),d.hide()}var c=this,d=c.getEl(),e=c.rawConfig,f=c.val();return c.isEmpty()?void a.async("./mdEditor",function(a){b(a)}):void a.async("./mdEditor",function(a){var c=db.confirm('切换到 MarkDown 编辑器可能会丢失部分内容格式，确认切换？<a class="link-green" href="javascript:void(0);">预览转换后的效果</a>',function(){b(a)});c&&c.getEl().find("a.link-green").on("click",function(){var b=a.html2md(f),c=a.md2html(b),d=window.open(),e=d.document;e.open("text/html","replace");var g=["html{margin:0;padding:0}","body{margin:0;padding:5px;}","body, td {font-size:14px;line-height:20px;}","body, p, div {word-wrap: break-word;}","p {margin:5px 0;}","table {border-collapse:collapse;}","img {border:0;}","noscript {display:none;}","table.ke-zeroborder td {border:1px dotted #AAA;}",'body{background-color:transparent;font-family:arial,STHeiti,"Microsoft YaHei";line-height:1.8}',"table{width:100%;}","p{line-height:1.8}","h1,h2,h3,h4,h5,h6{margin:10px 0}","img{max-width:100%}",'blockquote{position:relative;color: #999;font-weight:300;font-family:Avenir, "Helvetica Neue", "Microsoft Yahei", "Hiragino Sans GB", "Microsoft Sans Serif", "WenQuanYi Micro Hei", sans-serif;border-left:2px solid #1abc9c;padding: 10px 0 10px 10px;margin: .8em 0;}',"pre{font-size: 14px;position: relative;border-left: 2px solid #1abc9c;padding: 10px 0 10px 10px;margin: .8em 0;background: #fefefe;word-break:break-all;}","a{color:#25bb9b;text-decoration:none;}"].join("");e.write("<html><head><title>预览</title><style>"+g+"</style></head><body>"+c+"</body></html>"),e.close()})})}function E(){var a=this;return a.keEditor}function F(){var a=this;return a.keEditor.edit.doc}function G(){var a=this;return a.keEditor.edit.win}function H(){var a=this;return U(a.keEditor.container[0])}function I(){var a=this;return U(a.keEditor.edit.div)}function J(){var a=this;return U(a.keEditor.toolbar.div.get(0))}function K(){for(var a=this,b=a.keEditor.cmd.range.startContainer;b&&1!==b.nodeType;)b=b.parentNode;return b}function L(){var a=this,b=a.rawConfig,c=Z.clone(V.get());c.type=ab.uploadType.image,c.token=V.get("csrf_token");var d={allowNCFileUpload:!0,allowFileManager:!0,themeType:"nowcoder",uploadJson:"/uploadImage",extraFileUploadParams:c,resizeType:0,height:"300px",newlineTag:"div",cssData:['body{background-color:transparent;font-family:arial,STHeiti,"Microsoft YaHei";line-height:1.8}',"p{line-height:1.8}","h1,h2,h3,h4,h5,h6{margin:10px 0}","img{max-width:100%}",'blockquote{position:relative;color: #999;font-weight:300;font-family:Avenir, "Helvetica Neue", "Microsoft Yahei", "Hiragino Sans GB", "Microsoft Sans Serif", "WenQuanYi Micro Hei", sans-serif;border-left:2px solid #1abc9c;padding: 10px 0 10px 10px;margin: .8em 0;}',"pre{font-size: 14px;position: relative;border-left: 2px solid #1abc9c;padding: 10px 0 10px 10px;margin: .8em 0;background: #fefefe;word-break:break-all;}","a{color:#25bb9b;text-decoration:none;}"].join(""),items:"source,preview,|,bold,italic,underline,|,bockquote,codeblock,insertorderedlist,insertunorderedlist,|,image,|,table,subscript,superscript,removeformat".split(","),htmlTags:{span:".color,.font-weight,.text-decoration,.vertical-align".split(","),div:"class,id,align,.margin,.padding,.text-align,.color,.font-weight,.text-decoration,.vertical-align".split(","),table:"border,cellspacing,cellpadding,height,align,bordercolor,.padding,.margin,.border,bgcolor,.text-align,.color,.background-color,.font-weight,.text-decoration,.background,.height,.border-collapse".split(","),"td,th":"align,valign,width,height,colspan,rowspan,bgcolor,.text-align,.color,.background-color,.font-weight,.text-decoration,.vertical-align,.background,.border".split(","),a:"href,target,name".split(","),embed:"src,width,height,wmode,name,allowfullscreen,flashvars,type,loop,autostart,quality,.width,.height,align,allowscriptaccess".split(","),object:"classid,width,height,id".split(","),param:"name,value".split(","),img:"class,id,src,width,height,border,alt,title,align,.width,.height,.border".split(","),"p,ol,ul,li,blockquote,h1,h2,h3,h4,h5,h6":"align,.text-align,.color,.font-weight,.text-decoration,.vertical-align,.text-indent,.margin-left".split(","),pre:["class"],hr:"class,.page-break-after".split(","),iframe:"frameborder,width,height,src,allowfullscreen".split(","),"br,tbody,tr,strong,b,sub,sup,em,i,u,strike,s,del":[]}},e=Z.extend(d,b.keConf,{placeholder:b.placeholder,afterCreate:function(){a.keEditor=a.keEditor||this,a.fire("afterCreate")},afterChange:function(){a.keEditor=a.keEditor||this,a.waitCreated(function(){a.fire("afterChange")})},afterBlur:function(){a.keEditor=a.keEditor||this,a.fire("afterBlur")},afterFocus:function(){a.keEditor=a.keEditor||this,a.fire("afterFocus")}});if(b.isAdmin&&(e.items="source,preview,|,bold,italic,underline,forecolor,|,bockquote,codeblock,insertorderedlist,insertunorderedlist,link,|,image,|,table,subscript,superscript,removeformat".split(",")),!b.noCodeSelect)for(var f=e.items.length-1;f>=0;f--)"codeblock"===e.items[f]&&e.items.splice(f,1);return e}function M(a,b){if(!a||!b)return!1;var c=!1;b=b.toLowerCase();try{for(;a;){var d=(a.tagName||"").toLowerCase();if(d&&d===b){c=!0;break}a=a.parentNode}}catch(e){}return c}function N(a){var b=this;return b[a]?!0:(b[a]=!0,!1)}function O(){var a=this,b=U(a.getEditorDoc());b.find("#kePlaceholder").remove()}function P(){var a=this,b=a.rawConfig;a.waitCreated(function(){try{var c=(new Date).getTime();if(a._contentLastTime){if(c-a._contentLastTime>fb){var d=a._contentLast||"",e=U.trim(a.val());a._contentLastTime=c,a._contentLast=e,e!==d&&(a.fire("draftChange"),b.draftChange&&b.draftChange.call(a,e))}}else a._contentLastTime=c}catch(f){}})}function Q(){var a=this;eb.pluginInited||(eb.pluginInited=!0,R.plugin("bockquote",function(){var b=this;b.clickToolbar("bockquote",function(){U("#kePlaceholder",b.edit.doc).remove(),b.select();var c=b.cmd.commonNode({blockquote:"*"});if(c){var d=b.cmd.range.createBookmark();c.remove(!0),b.cmd.range.moveToBookmark(d)}else{b.cmd.indent();var c=b.cmd.commonNode({blockquote:"*"});if(c){try{b.cmd.range.selectNodeContents(c),b.cmd.removeformat()}catch(e){}c.removeAttr("style"),!c.next()&&c.after("<br />")}}b.select(),a.fire("afterChange")})}),R.plugin("codeblock",function(){var b=this;b.clickToolbar("codeblock",function(){U("#kePlaceholder",b.edit.doc).remove(),b.select();var c=b.cmd.commonNode({pre:"*"});if(c){var d=b.cmd.range.createBookmark();c.remove(!0),b.cmd.range.moveToBookmark(d)}else{b.exec("formatblock","<pre>");var c=b.cmd.commonNode({pre:"*"});if(c){try{b.cmd.range.selectNodeContents(c),b.cmd.removeformat()}catch(e){}c.addClass("prettyprint"),!c.next()&&c.after("<br />")}}b.select(),a.fire("afterChange")})}))}a("ncPlugin/kindeditor/kindeditor");var R=window.KindEditor,S=a("nc"),T=a("cpn"),U=S.$,V=S.Cookie,W=S.Browser,X=S.Component,Y=S.Clazz,Z=S.Base,$=S.Dom,_=a("../../util/uploadRemote"),ab=a("../../core/siteConfig"),bb=T.Tips,cb=a("../select"),db=T.Popup,eb=c.exports=Y.create(),fb=800;Y.mix(eb,X,{xtype:"HEditor",_template:'<div style="position:relative;"></div>',listeners:[{name:"render",type:"custom",handler:function(){{var a=this,b=a.rawConfig;a.getEl()}a.initEvent(),a.initFullScreen(),a.initPlaceholder(),a.initImageBar(),a.initAutoLink(),a.initToolbarTips(),a.initChangeEditor(),a.initToolbarFixed(),a.initAutoHeight(),a.initCodeSelect(),a.initShowCodeName(),a.initPasteUpload(),a.initRemoteUpload(),a.initChangeDefaultAction(),!!b.disabled&&a.disable(),a.resize(b.width,b.height),b.draftChange&&(a._draftChangeTimer=window.setInterval(Z.bind(a.logContentChange,a),2*fb)),a.initKeEditor()}},{name:"destroy",type:"custom",handler:function(){var a=this;window.clearInterval(a._draftChangeTimer),a._toolbarScrollCb&&U(window).unbind("scroll",a._toolbarScrollCb);try{a.keEditor.remove()}catch(b){}}},{name:"click a.js-2-md",handler:function(){var a=this;a.changeEditor()}}],create:d},{initialize:e,initEvent:f,initKeEditor:g,initFullScreen:h,initPlaceholder:i,initImageBar:j,initAutoLink:k,initToolbarTips:l,initToolbarFixed:m,initChangeEditor:n,initAutoHeight:o,initCodeSelect:p,initShowCodeName:q,initPasteUpload:r,initRemoteUpload:s,initChangeDefaultAction:t,val:u,text:v,blur:w,focus:x,disable:y,isEmpty:z,resize:A,autoHeight:B,waitCreated:C,changeEditor:D,getEditor:E,getEditorDoc:F,getEditorWin:G,getEditorEl:H,getEditorEditEl:I,getToolbarEl:J,getCmdClosestEl:K,getEditorConf:L,isInTagNode:M,lockInit:N,removePlaceHolder:O,logContentChange:P,_addKEPlugin:Q})});